
[server]
  host = "0.0.0.0"
  port = 8080
  workers = 4
  max_connections = 1000
  request_timeout = 30
  enable_tls = true
  cert_path = "/certs/api-gateway.pem"
  key_path = "/certs/api-gateway-key.pem"

[auth]
  jwt_secret = "GridTokenX_JWT_Secret_2025"
  token_expiry = 3600
  api_key_header = "X-GridTokenX-API-Key"
  require_client_certs = false
  # trusted_sources = [{"meter_id": "AMI_METER_STANFORD_ENG_001", "building_name": "Engineering", "building_type": "academic", "ieee2030_5_url": "https://localhost:8443", "dcap_endpoint": "https://localhost:8443/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_ENG_001/AMI_METER_STANFORD_ENG_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_ENG_001/AMI_METER_STANFORD_ENG_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_PHYS_001", "building_name": "Physics", "building_type": "academic", "ieee2030_5_url": "https://localhost:8444", "dcap_endpoint": "https://localhost:8444/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_PHYS_001/AMI_METER_STANFORD_PHYS_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_PHYS_001/AMI_METER_STANFORD_PHYS_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_CHEM_001", "building_name": "Chemistry", "building_type": "academic", "ieee2030_5_url": "https://localhost:8445", "dcap_endpoint": "https://localhost:8445/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_CHEM_001/AMI_METER_STANFORD_CHEM_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_CHEM_001/AMI_METER_STANFORD_CHEM_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_BIO_001", "building_name": "Biology", "building_type": "academic", "ieee2030_5_url": "https://localhost:8446", "dcap_endpoint": "https://localhost:8446/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_BIO_001/AMI_METER_STANFORD_BIO_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_BIO_001/AMI_METER_STANFORD_BIO_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_MATH_001", "building_name": "Mathematics", "building_type": "academic", "ieee2030_5_url": "https://localhost:8447", "dcap_endpoint": "https://localhost:8447/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_MATH_001/AMI_METER_STANFORD_MATH_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_MATH_001/AMI_METER_STANFORD_MATH_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_CS_001", "building_name": "Computer Science", "building_type": "academic", "ieee2030_5_url": "https://localhost:8448", "dcap_endpoint": "https://localhost:8448/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_CS_001/AMI_METER_STANFORD_CS_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_CS_001/AMI_METER_STANFORD_CS_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_HIST_001", "building_name": "History", "building_type": "academic", "ieee2030_5_url": "https://localhost:8449", "dcap_endpoint": "https://localhost:8449/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_HIST_001/AMI_METER_STANFORD_HIST_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_HIST_001/AMI_METER_STANFORD_HIST_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_ART_001", "building_name": "Art", "building_type": "academic", "ieee2030_5_url": "https://localhost:8450", "dcap_endpoint": "https://localhost:8450/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_ART_001/AMI_METER_STANFORD_ART_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_ART_001/AMI_METER_STANFORD_ART_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_DORM_001", "building_name": "Dormitory West", "building_type": "residential", "ieee2030_5_url": "https://localhost:8451", "dcap_endpoint": "https://localhost:8451/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_DORM_001/AMI_METER_STANFORD_DORM_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_DORM_001/AMI_METER_STANFORD_DORM_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_DORM_002", "building_name": "Dormitory East", "building_type": "residential", "ieee2030_5_url": "https://localhost:8452", "dcap_endpoint": "https://localhost:8452/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_DORM_002/AMI_METER_STANFORD_DORM_002.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_DORM_002/AMI_METER_STANFORD_DORM_002-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_DORM_003", "building_name": "Dormitory North", "building_type": "residential", "ieee2030_5_url": "https://localhost:8453", "dcap_endpoint": "https://localhost:8453/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_DORM_003/AMI_METER_STANFORD_DORM_003.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_DORM_003/AMI_METER_STANFORD_DORM_003-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_GRAD_001", "building_name": "Graduate Housing", "building_type": "residential", "ieee2030_5_url": "https://localhost:8454", "dcap_endpoint": "https://localhost:8454/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_GRAD_001/AMI_METER_STANFORD_GRAD_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_GRAD_001/AMI_METER_STANFORD_GRAD_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_FRAT_001", "building_name": "Fraternity Row", "building_type": "residential", "ieee2030_5_url": "https://localhost:8455", "dcap_endpoint": "https://localhost:8455/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_FRAT_001/AMI_METER_STANFORD_FRAT_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_FRAT_001/AMI_METER_STANFORD_FRAT_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_APART_001", "building_name": "Faculty Apartments", "building_type": "residential", "ieee2030_5_url": "https://localhost:8456", "dcap_endpoint": "https://localhost:8456/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_APART_001/AMI_METER_STANFORD_APART_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_APART_001/AMI_METER_STANFORD_APART_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_ADMIN_001", "building_name": "Administration", "building_type": "administrative", "ieee2030_5_url": "https://localhost:8457", "dcap_endpoint": "https://localhost:8457/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_ADMIN_001/AMI_METER_STANFORD_ADMIN_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_ADMIN_001/AMI_METER_STANFORD_ADMIN_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_REGIST_001", "building_name": "Registrar", "building_type": "administrative", "ieee2030_5_url": "https://localhost:8458", "dcap_endpoint": "https://localhost:8458/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_REGIST_001/AMI_METER_STANFORD_REGIST_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_REGIST_001/AMI_METER_STANFORD_REGIST_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_FINANCE_001", "building_name": "Financial Aid", "building_type": "administrative", "ieee2030_5_url": "https://localhost:8459", "dcap_endpoint": "https://localhost:8459/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_FINANCE_001/AMI_METER_STANFORD_FINANCE_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_FINANCE_001/AMI_METER_STANFORD_FINANCE_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_PRES_001", "building_name": "President Office", "building_type": "administrative", "ieee2030_5_url": "https://localhost:8460", "dcap_endpoint": "https://localhost:8460/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_PRES_001/AMI_METER_STANFORD_PRES_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_PRES_001/AMI_METER_STANFORD_PRES_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_GYM_001", "building_name": "Main Gymnasium", "building_type": "athletic", "ieee2030_5_url": "https://localhost:8461", "dcap_endpoint": "https://localhost:8461/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_GYM_001/AMI_METER_STANFORD_GYM_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_GYM_001/AMI_METER_STANFORD_GYM_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_POOL_001", "building_name": "Aquatic Center", "building_type": "athletic", "ieee2030_5_url": "https://localhost:8462", "dcap_endpoint": "https://localhost:8462/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_POOL_001/AMI_METER_STANFORD_POOL_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_POOL_001/AMI_METER_STANFORD_POOL_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_FIELD_001", "building_name": "Athletic Fields", "building_type": "athletic", "ieee2030_5_url": "https://localhost:8463", "dcap_endpoint": "https://localhost:8463/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_FIELD_001/AMI_METER_STANFORD_FIELD_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_FIELD_001/AMI_METER_STANFORD_FIELD_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_LAB_001", "building_name": "Research Laboratory", "building_type": "research", "ieee2030_5_url": "https://localhost:8464", "dcap_endpoint": "https://localhost:8464/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_LAB_001/AMI_METER_STANFORD_LAB_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_LAB_001/AMI_METER_STANFORD_LAB_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_MED_001", "building_name": "Medical Research", "building_type": "research", "ieee2030_5_url": "https://localhost:8465", "dcap_endpoint": "https://localhost:8465/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_MED_001/AMI_METER_STANFORD_MED_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_MED_001/AMI_METER_STANFORD_MED_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_MAINT_001", "building_name": "Maintenance", "building_type": "support", "ieee2030_5_url": "https://localhost:8466", "dcap_endpoint": "https://localhost:8466/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_MAINT_001/AMI_METER_STANFORD_MAINT_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_MAINT_001/AMI_METER_STANFORD_MAINT_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_DINING_001", "building_name": "Dining Hall", "building_type": "support", "ieee2030_5_url": "https://localhost:8467", "dcap_endpoint": "https://localhost:8467/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_DINING_001/AMI_METER_STANFORD_DINING_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_DINING_001/AMI_METER_STANFORD_DINING_001-key.pem"}}]

[rate_limiting]
  enabled = true
  requests_per_minute = 1000
  burst_limit = 100
  rate_limit_by_ip = true
  rate_limit_by_api_key = true
  redis_url = "redis://redis:6379/0"

[database]

  [primary_db]
    type = "postgresql"
    host = "postgres"
    port = 5432
    database = "gridtokenx"
    username = "gridtokenx_user"
    password = "gridtokenx_pass"
    max_connections = 20

  [timeseries_db]
    type = "timescaledb"
    host = "timescaledb"
    port = 5432
    database = "gridtokenx_timeseries"
    username = "gridtokenx_user"
    password = "gridtokenx_pass"
    max_connections = 10

[messaging]

  [kafka]
    brokers = ["kafka:9092"]

    [topics]
      energy_readings = "energy-readings"
      p2p_trades = "p2p-trades"
      demand_response = "demand-response"
      alerts = "system-alerts"

    [producer_config]
      acks = "all"
      retries = 3
      batch_size = 16384

  [redis]
    url = "redis://redis:6379/1"
    max_connections = 20

[ieee2030_5_integration]
  server_port = 8443
  polling_interval = 15
  batch_size = 25
  timeout = 30
  retry_attempts = 3
  # campus_meters = [{"meter_id": "AMI_METER_STANFORD_ENG_001", "building_name": "Engineering", "building_type": "academic", "ieee2030_5_url": "https://localhost:8443", "dcap_endpoint": "https://localhost:8443/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_ENG_001/AMI_METER_STANFORD_ENG_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_ENG_001/AMI_METER_STANFORD_ENG_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_PHYS_001", "building_name": "Physics", "building_type": "academic", "ieee2030_5_url": "https://localhost:8444", "dcap_endpoint": "https://localhost:8444/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_PHYS_001/AMI_METER_STANFORD_PHYS_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_PHYS_001/AMI_METER_STANFORD_PHYS_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_CHEM_001", "building_name": "Chemistry", "building_type": "academic", "ieee2030_5_url": "https://localhost:8445", "dcap_endpoint": "https://localhost:8445/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_CHEM_001/AMI_METER_STANFORD_CHEM_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_CHEM_001/AMI_METER_STANFORD_CHEM_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_BIO_001", "building_name": "Biology", "building_type": "academic", "ieee2030_5_url": "https://localhost:8446", "dcap_endpoint": "https://localhost:8446/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_BIO_001/AMI_METER_STANFORD_BIO_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_BIO_001/AMI_METER_STANFORD_BIO_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_MATH_001", "building_name": "Mathematics", "building_type": "academic", "ieee2030_5_url": "https://localhost:8447", "dcap_endpoint": "https://localhost:8447/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_MATH_001/AMI_METER_STANFORD_MATH_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_MATH_001/AMI_METER_STANFORD_MATH_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_CS_001", "building_name": "Computer Science", "building_type": "academic", "ieee2030_5_url": "https://localhost:8448", "dcap_endpoint": "https://localhost:8448/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_CS_001/AMI_METER_STANFORD_CS_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_CS_001/AMI_METER_STANFORD_CS_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_HIST_001", "building_name": "History", "building_type": "academic", "ieee2030_5_url": "https://localhost:8449", "dcap_endpoint": "https://localhost:8449/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_HIST_001/AMI_METER_STANFORD_HIST_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_HIST_001/AMI_METER_STANFORD_HIST_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_ART_001", "building_name": "Art", "building_type": "academic", "ieee2030_5_url": "https://localhost:8450", "dcap_endpoint": "https://localhost:8450/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_ART_001/AMI_METER_STANFORD_ART_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_ART_001/AMI_METER_STANFORD_ART_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_DORM_001", "building_name": "Dormitory West", "building_type": "residential", "ieee2030_5_url": "https://localhost:8451", "dcap_endpoint": "https://localhost:8451/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_DORM_001/AMI_METER_STANFORD_DORM_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_DORM_001/AMI_METER_STANFORD_DORM_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_DORM_002", "building_name": "Dormitory East", "building_type": "residential", "ieee2030_5_url": "https://localhost:8452", "dcap_endpoint": "https://localhost:8452/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_DORM_002/AMI_METER_STANFORD_DORM_002.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_DORM_002/AMI_METER_STANFORD_DORM_002-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_DORM_003", "building_name": "Dormitory North", "building_type": "residential", "ieee2030_5_url": "https://localhost:8453", "dcap_endpoint": "https://localhost:8453/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_DORM_003/AMI_METER_STANFORD_DORM_003.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_DORM_003/AMI_METER_STANFORD_DORM_003-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_GRAD_001", "building_name": "Graduate Housing", "building_type": "residential", "ieee2030_5_url": "https://localhost:8454", "dcap_endpoint": "https://localhost:8454/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_GRAD_001/AMI_METER_STANFORD_GRAD_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_GRAD_001/AMI_METER_STANFORD_GRAD_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_FRAT_001", "building_name": "Fraternity Row", "building_type": "residential", "ieee2030_5_url": "https://localhost:8455", "dcap_endpoint": "https://localhost:8455/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_FRAT_001/AMI_METER_STANFORD_FRAT_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_FRAT_001/AMI_METER_STANFORD_FRAT_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_APART_001", "building_name": "Faculty Apartments", "building_type": "residential", "ieee2030_5_url": "https://localhost:8456", "dcap_endpoint": "https://localhost:8456/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_APART_001/AMI_METER_STANFORD_APART_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_APART_001/AMI_METER_STANFORD_APART_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_ADMIN_001", "building_name": "Administration", "building_type": "administrative", "ieee2030_5_url": "https://localhost:8457", "dcap_endpoint": "https://localhost:8457/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_ADMIN_001/AMI_METER_STANFORD_ADMIN_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_ADMIN_001/AMI_METER_STANFORD_ADMIN_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_REGIST_001", "building_name": "Registrar", "building_type": "administrative", "ieee2030_5_url": "https://localhost:8458", "dcap_endpoint": "https://localhost:8458/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_REGIST_001/AMI_METER_STANFORD_REGIST_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_REGIST_001/AMI_METER_STANFORD_REGIST_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_FINANCE_001", "building_name": "Financial Aid", "building_type": "administrative", "ieee2030_5_url": "https://localhost:8459", "dcap_endpoint": "https://localhost:8459/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_FINANCE_001/AMI_METER_STANFORD_FINANCE_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_FINANCE_001/AMI_METER_STANFORD_FINANCE_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_PRES_001", "building_name": "President Office", "building_type": "administrative", "ieee2030_5_url": "https://localhost:8460", "dcap_endpoint": "https://localhost:8460/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_PRES_001/AMI_METER_STANFORD_PRES_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_PRES_001/AMI_METER_STANFORD_PRES_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_GYM_001", "building_name": "Main Gymnasium", "building_type": "athletic", "ieee2030_5_url": "https://localhost:8461", "dcap_endpoint": "https://localhost:8461/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_GYM_001/AMI_METER_STANFORD_GYM_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_GYM_001/AMI_METER_STANFORD_GYM_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_POOL_001", "building_name": "Aquatic Center", "building_type": "athletic", "ieee2030_5_url": "https://localhost:8462", "dcap_endpoint": "https://localhost:8462/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_POOL_001/AMI_METER_STANFORD_POOL_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_POOL_001/AMI_METER_STANFORD_POOL_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_FIELD_001", "building_name": "Athletic Fields", "building_type": "athletic", "ieee2030_5_url": "https://localhost:8463", "dcap_endpoint": "https://localhost:8463/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_FIELD_001/AMI_METER_STANFORD_FIELD_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_FIELD_001/AMI_METER_STANFORD_FIELD_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_LAB_001", "building_name": "Research Laboratory", "building_type": "research", "ieee2030_5_url": "https://localhost:8464", "dcap_endpoint": "https://localhost:8464/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_LAB_001/AMI_METER_STANFORD_LAB_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_LAB_001/AMI_METER_STANFORD_LAB_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_MED_001", "building_name": "Medical Research", "building_type": "research", "ieee2030_5_url": "https://localhost:8465", "dcap_endpoint": "https://localhost:8465/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_MED_001/AMI_METER_STANFORD_MED_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_MED_001/AMI_METER_STANFORD_MED_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_MAINT_001", "building_name": "Maintenance", "building_type": "support", "ieee2030_5_url": "https://localhost:8466", "dcap_endpoint": "https://localhost:8466/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_MAINT_001/AMI_METER_STANFORD_MAINT_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_MAINT_001/AMI_METER_STANFORD_MAINT_001-key.pem"}}, {"meter_id": "AMI_METER_STANFORD_DINING_001", "building_name": "Dining Hall", "building_type": "support", "ieee2030_5_url": "https://localhost:8467", "dcap_endpoint": "https://localhost:8467/dcap", "polling_enabled": true, "polling_interval": 15, "authentication": {"type": "client_certificate", "cert_path": "/certs/meters/AMI_METER_STANFORD_DINING_001/AMI_METER_STANFORD_DINING_001.pem", "key_path": "/certs/meters/AMI_METER_STANFORD_DINING_001/AMI_METER_STANFORD_DINING_001-key.pem"}}]

[data_processing]

  [validation]
    enabled = true
    reject_invalid_data = true
    data_quality_threshold = 0.95

  [transformation]
    enabled = true
    normalize_units = true
    calculate_aggregates = true
    enrich_metadata = true

  [aggregation]
    enabled = true
    intervals = [60, 300, 900, 3600]
    building_level = true
    campus_level = true

[oracle_service]
  url = "https://oracle:8081"
  api_key = "GridTokenX_Oracle_API_2025"
  batch_submit_interval = 300
  max_batch_size = 100
  retry_attempts = 3
  timeout = 60

[monitoring]

  [metrics]
    enabled = true
    prometheus_endpoint = "/metrics"
    custom_metrics = ["http_requests_total", "meter_data_points_processed", "p2p_trades_processed", "data_validation_errors", "oracle_submission_latency"]

  [logging]
    level = "INFO"
    format = "json"
    file = "/var/log/api-gateway/app.log"
    rotation = "daily"
    retention = "30d"

  [health_check]
    endpoint = "/health"
    timeout = 5
    checks = ["database_connection", "redis_connection", "kafka_connection", "oracle_service_connection"]